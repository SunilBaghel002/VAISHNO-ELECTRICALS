<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products - VAISHNO ELECTRICALS</title>
    <link rel="shortcut icon" href="/images/logo.svg" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/style.css" />
    <style>
      /* Product Filters and Sorting */
      .product-controls {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        padding: 1rem;
        background: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }
      .filter-group {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        align-items: center;
      }
      .filter-group h4 {
        margin: 0;
        color: #1e40af;
        font-size: 1rem;
        font-weight: 600;
      }
      .filter-checkbox-container {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .filter-checkbox {
        width: 16px;
        height: 16px;
        accent-color: #1e40af;
        cursor: pointer;
      }
      .filter-checkbox-label {
        font-size: 0.9rem;
        color: #333;
        cursor: pointer;
      }
      .clear-filters {
        padding: 0.5rem 1rem;
        background: #e53e3e;
        color: #fff;
        border: none;
        border-radius: 5px;
        font-size: 0.9rem;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      .clear-filters:hover {
        background: #c53030;
      }
      .sort-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .sort-group label {
        font-size: 0.9rem;
        color: #333;
        font-weight: 500;
      }
      .sort-group select {
        padding: 0.5rem 1rem;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 0.9rem;
        color: #333;
        background: #fff;
        cursor: pointer;
        outline: none;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
      }
      .sort-group select:focus {
        border-color: #1e40af;
        box-shadow: 0 0 5px rgba(30, 64, 175, 0.2);
      }
      @media (max-width: 768px) {
        .product-controls {
          flex-direction: column;
          align-items: flex-start;
          gap: 1rem;
        }
        .filter-group {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.5rem;
        }
        .sort-group {
          width: 100%;
        }
        .sort-group select {
          width: 100%;
        }
      }

      /* Product Card Overlay */
      .product-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.192);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 0.75rem;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .product-card:hover .product-overlay {
        opacity: 1;
      }
      .product-btn {
        padding: 0.5rem 1.5rem;
        background: #fff;
        color: #526cc4;
        border: none;
        border-radius: 25px;
        font-size: 0.9rem;
        text-decoration: none;
        display: flex;
        align-items: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        gap: 0.5rem;
        cursor: pointer;
        transition: all 0.5s ease;
        width: 80%;
        justify-content: center;
        text-align: center;
      }
      .product-btn:hover {
        background: linear-gradient(135deg, #3b82f6, #1e40af);
        color: white;
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
      }
      @media (max-width: 768px) {
        .product-btn {
          padding: 0.4rem 1rem;
          font-size: 0.8rem;
          width: 90%;
        }
      }

      /* Product Comparison */
      .compare-checkbox {
        position: absolute;
        top: 10px;
        right: 10px;
        accent-color: #1e40af;
        width: 16px;
        height: 16px;
        cursor: pointer;
      }
      .compare-btn {
        display: none;
        padding: 0.5rem 1rem;
        background: #1e40af;
        color: #fff;
        border: none;
        border-radius: 5px;
        font-size: 0.9rem;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      .compare-btn.active {
        display: inline-block;
      }
      .compare-btn:hover {
        background: #15308f;
      }
      .compare-modal .modal-content {
        max-width: 90%;
        width: 1000px;
        overflow-x: auto;
      }
      .compare-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
      }
      .compare-table th,
      .compare-table td {
        padding: 0.75rem;
        border: 1px solid #ddd;
        text-align: left;
        font-size: 0.9rem;
      }
      .compare-table th {
        background: #1e40af;
        color: #fff;
        font-weight: 600;
      }
      .compare-table td {
        background: #fff;
        color: #333;
      }
      .compare-table img {
        max-width: 100px;
        height: auto;
        display: block;
        margin: 0 auto;
      }
      .compare-table .remove-btn {
        background: #e53e3e;
        color: #fff;
        border: none;
        padding: 0.3rem 0.6rem;
        border-radius: 3px;
        cursor: pointer;
      }
      .compare-table .remove-btn:hover {
        background: #c53030;
      }
      .no-products {
        text-align: center;
        color: #888;
        padding: 1rem;
      }

      /* Specs Modal */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        align-items: center;
        justify-content: center;
        overflow-y: auto;
      }
      .modal-content {
        background: #fff;
        padding: 2rem;
        border-radius: 8px;
        max-width: 600px;
        width: 90%;
        position: relative;
        animation: modalFadeIn 0.3s ease;
        max-height: 80vh;
        overflow-y: auto;
      }
      @keyframes modalFadeIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .modal .close {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 1.5rem;
        color: #333;
        cursor: pointer;
        transition: color 0.3s ease;
      }
      .modal .close:hover {
        color: #e53e3e;
      }
      .specs-table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
      }
      .specs-table td {
        padding: 0.5rem;
        border-bottom: 1px solid #eee;
      }
      .specs-table td:first-child {
        font-weight: 600;
        color: #333;
        width: 40%;
      }
      .key-features {
        list-style: disc;
        padding-left: 1.5rem;
        margin: 0;
      }
      .key-features li {
        margin-bottom: 0.3rem;
      }
      .modal h3 {
        color: #1e40af;
        margin-bottom: 1rem;
      }
      .modal h4 {
        color: #1e40af;
        font-size: 1rem;
        margin: 1rem 0 0.5rem;
      }
      @media (max-width: 768px) {
        .modal-content {
          width: 95%;
          padding: 1.5rem;
        }
      }

      /* Product Categories Section */
      .categories {
        padding: 2rem 0;
        background: #fff;
      }
      .categories .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-top: 2rem;
      }
      .category-card {
        background: #f9f9f9;
        padding: 1.5rem;
        border-radius: 8px;
        text-align: center;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease,
          background 0.3s ease;
        position: relative;
      }
      .category-card.active {
        background: #e6efff;
        box-shadow: 0 4px 12px rgba(30, 64, 175, 0.2);
      }
      .category-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      .category-card i {
        font-size: 2rem;
        color: #1e40af;
        margin-bottom: 0.5rem;
      }
      .category-card h3 {
        font-size: 1.2rem;
        color: #333;
        margin: 0.5rem 0;
      }
      .category-card p {
        font-size: 0.9rem;
        color: #666;
        margin: 0;
      }
      @media (max-width: 768px) {
        .categories-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <!-- Page Loading Animation -->
    <div class="page-loading" id="pageLoading">
      <div class="spinner"></div>
    </div>

    <!-- Header -->
    <header id="header">
      <nav>
        <div class="logo">
          <div class="logo-container">
            <img src="/images/logo.svg" alt="" />
            <span> - Vaishno Electricals</span>
          </div>
          <p class="gstin">GSTIN: 06CROPS7313B1ZQ</p>
        </div>
        <ul class="nav-links" id="navLinks">
          <li><a href="/">Home</a></li>
          <li><a href="/#about">About</a></li>
          <li class="nav-item">
            <a href="/products" class="active"
              >Products <i class="fas fa-chevron-down"></i
            ></a>
            <ul class="dropdown" id="productsDropdown"></ul>
          </li>
          <li><a href="/#why-choose">Why Choose Us</a></li>
          <li><a href="/#contact">Contact</a></li>
        </ul>
        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-content">
        <h1>Discover Our Premium Products</h1>
        <p>
          Explore our cutting-edge earthing and lightning protection solutions
          designed for safety and reliability.
        </p>
        <a href="#products" class="cta-btn">View Products</a>
      </div>
    </section>

    <!-- Search Bar -->
    <div class="search-container">
      <input
        type="text"
        class="search-input"
        id="searchInput"
        placeholder="Search products..."
      />
      <ul class="search-suggestions" id="searchSuggestions"></ul>
    </div>

    <!-- Admin Password Prompt -->
    <div class="admin-prompt" id="adminPrompt">
      <div class="prompt-box">
        <h3>Enter Admin Password</h3>
        <input type="password" id="adminPassword" placeholder="Password" />
        <button onclick="authenticateAdmin()">Submit</button>
      </div>
    </div>

    <!-- Enquiry Modal -->
    <div class="modal" id="enquiryModal">
      <div class="modal-content">
        <span class="close" role="button" aria-label="Close enquiry modal"
          >&times;</span
        >
        <h3>Enquiry Form</h3>
        <form id="enquiryForm">
          <div class="success-message" id="enquirySuccess">
            Enquiry sent successfully!
          </div>
          <div class="form-loading" id="enquiryLoading"></div>
          <div class="form-group">
            <input
              type="text"
              id="enquiryName"
              name="name"
              placeholder=" "
              required
              aria-label="Full Name"
            />
            <label for="enquiryName"
              ><i class="fas fa-user"></i> Full Name</label
            >
            <span class="error-message">Please enter your name</span>
          </div>
          <div class="form-group">
            <input
              type="email"
              id="enquiryEmail"
              name="email"
              placeholder=" "
              required
              aria-label="Email Address"
            />
            <label for="enquiryEmail"
              ><i class="fas fa-envelope"></i> Email Address</label
            >
            <span class="error-message">Please enter a valid email</span>
          </div>
          <div class="form-group">
            <input
              type="tel"
              id="enquiryPhone"
              name="phone"
              placeholder=" "
              required
              pattern="[0-9]{10}"
              aria-label="Phone Number"
            />
            <label for="enquiryPhone"
              ><i class="fas fa-phone"></i> Phone Number</label
            >
            <span class="error-message"
              >Please enter a valid 10-digit phone number</span
            >
          </div>
          <div class="form-group">
            <input
              type="text"
              id="enquiryProduct"
              name="product"
              placeholder=" "
              readonly
              aria-label="Product Name"
            />
            <label for="enquiryProduct"
              ><i class="fas fa-box"></i> Product Name</label
            >
          </div>
          <div class="form-group">
            <textarea
              id="enquiryMessage"
              name="message"
              placeholder=" "
              required
              aria-label="Message"
            ></textarea>
            <label for="enquiryMessage"
              ><i class="fas fa-comment"></i> Message</label
            >
            <span class="error-message">Please enter your message</span>
          </div>
          <button type="submit" class="submit-btn">
            <i class="fas fa-paper-plane"></i> Send Enquiry
          </button>
        </form>
      </div>
    </div>

    <!-- Comparison Modal -->
    <div class="modal compare-modal" id="compareModal">
      <div class="modal-content">
        <span class="close" role="button" aria-label="Close comparison modal"
          >&times;</span
        >
        <h3>Compare Products</h3>
        <div id="compareContent"></div>
      </div>
    </div>

    <!-- Specs Modal -->
    <div class="modal" id="specsModal">
      <div class="modal-content">
        <span
          class="close"
          role="button"
          aria-label="Close specifications modal"
          >&times;</span
        >
        <h3 id="specsModalTitle"></h3>
        <div id="specsModalContent"></div>
      </div>
    </div>

    <!-- Categories Section -->
    <section id="categories" class="categories">
      <div class="container">
        <h2 class="section-title">Explore by Category</h2>
        <p class="section-subtitle">
          Browse our specialized product categories designed for various
          electrical safety needs.
        </p>
        <div class="categories-grid" id="categoriesGrid"></div>
      </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products">
      <div class="container">
        <h2 class="section-title">Our Premium Products</h2>
        <p class="section-subtitle">
          Discover our range of high-quality earthing and lightning protection
          solutions, engineered for safety and performance.
        </p>
        <div class="product-controls">
          <div class="filter-group" id="filterGroup">
            <h4>Filter by Category:</h4>
            <!-- Categories will be populated dynamically -->
          </div>
          <div class="sort-group">
            <label for="sortSelect">Sort by:</label>
            <select id="sortSelect" aria-label="Sort products">
              <option value="name-asc">Name (A-Z)</option>
              <option value="name-desc">Name (Z-A)</option>
            </select>
          </div>
          <button id="compareBtn" class="compare-btn">Compare Selected</button>
        </div>
        <div class="products-grid" id="productsGrid"></div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
      <div class="container">
        <h2 class="section-title">Get in Touch</h2>
        <p class="section-subtitle">
          Have questions or need a quote? Contact our experts for personalized
          solutions and exceptional support.
        </p>
        <div class="contact-container">
          <div class="contact-info fade-in">
            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-phone"></i>
              </div>
              <div class="contact-details">
                <h4>Phone Number</h4>
                <p>
                  <a href="tel:+919873906044">+91 9873906044</a>
                  <a href="tel:+919810110903">+91 9810110903</a>
                </p>
                <small style="color: #888"
                  >Available 24/7 for emergencies</small
                >
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <div class="contact-details">
                <h4>Email Address</h4>
                <p>
                  <a href="mailto:vaishnoelectricals@gmail.com"
                    >vaishnoelectricals@gmail.com</a
                  >
                </p>
                <small style="color: #888">Response within 2 hours</small>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <div class="contact-details">
                <h4>Office Address</h4>
                <p>
                  NEAR SHIV MANDIR, GROUND FLOOR, 1-C-9A,B.P,<br />
                  BATA HARDWARE ROAD, Faridabad, Faridabad, Haryana, 121001
                </p>
                <a
                  href="https://www.google.com/maps/place/28.395989975789417,77.31461497548826"
                  target="_blank"
                  >Visit for consultations</a
                >
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="contact-details">
                <h4>Business Hours</h4>
                <p>Monday - Saturday: 9:00 AM - 6:00 PM<br />Sunday: Closed</p>
                <small style="color: #888">24/7 emergency support</small>
              </div>
            </div>
          </div>

          <div class="contact-form fade-in">
            <h3
              style="color: #1e40af; margin-bottom: 1.5rem; text-align: center"
            >
              Send us a Message
            </h3>
            <form id="contactForm">
              <div class="form-loading" id="contactLoading">
                <div class="spinner"></div>
              </div>
              <div class="success-message" id="contactSuccess">
                Message sent successfully!
              </div>
              <div class="form-group">
                <input
                  type="text"
                  id="name"
                  name="name"
                  placeholder=" "
                  required
                  aria-label="Full Name"
                />
                <label for="name"><i class="fas fa-user"></i> Full Name</label>
                <span class="error-message">Please enter your name</span>
              </div>

              <div class="form-group">
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder=" "
                  required
                  aria-label="Email Address"
                />
                <label for="email"
                  ><i class="fas fa-envelope"></i> Email Address</label
                >
                <span class="error-message">Please enter a valid email</span>
              </div>

              <div class="form-group">
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  placeholder=" "
                  required
                  pattern="[0-9]{10}"
                  aria-label="Phone Number"
                />
                <label for="phone"
                  ><i class="fas fa-phone"></i> Phone Number</label
                >
                <span class="error-message"
                  >Please enter a valid 10-digit phone number</span
                >
              </div>

              <div class="form-group">
                <select
                  id="inquiry"
                  name="inquiry"
                  required
                  aria-label="Inquiry Type"
                >
                  <option value="" disabled selected></option>
                  <option value="product">Product Inquiry</option>
                  <option value="installation">Installation Services</option>
                  <option value="consultation">Technical Consultation</option>
                  <option value="other">Other</option>
                </select>
                <label for="inquiry"
                  ><i class="fas fa-tag"></i> Inquiry Type</label
                >
                <span class="error-message">Please select an inquiry type</span>
              </div>

              <div class="form-group">
                <textarea
                  id="message"
                  name="message"
                  placeholder=" "
                  required
                  aria-label="Message"
                ></textarea>
                <label for="message"
                  ><i class="fas fa-comment"></i> Message</label
                >
                <span class="error-message">Please enter your message</span>
              </div>

              <div class="form-actions">
                <button type="submit" class="submit-btn">
                  <i class="fas fa-paper-plane"></i> Send Message
                </button>
                <a
                  href="https://wa.me/919873906044?text=Hello%20Vaishno%20Electricals,%20I%20have%20an%20inquiry%20about%20your%20products/services."
                  target="_blank"
                  class="whatsapp-btn"
                >
                  <i class="fab fa-whatsapp"></i> Chat on WhatsApp
                </a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="footer-content">
        <div class="footer-section">
          <img src="/images/logo.svg" alt="" />
          <p>
            Leading provider of advanced earthing and lightning protection
            solutions. Protecting lives and property through superior electrical
            safety systems since 2010.
          </p>
          <div class="social-links">
            <a href="#" aria-label="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" aria-label="Twitter">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" aria-label="LinkedIn">
              <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="#" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
          </div>
        </div>

        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="/#home">Home</a></li>
            <li><a href="/#about">About Us</a></li>
            <li><a href="/products">Products</a></li>
            <li><a href="/#why-choose">Why Choose Us</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>Our Products</h3>
          <ul id="footerProducts"></ul>
        </div>

        <div class="footer-section">
          <h3>Contact Info</h3>
          <p>
            <i class="fas fa-map-marker-alt"></i>
            <a
              href="https://www.google.com/maps/place/28.395989975789417,77.31461497548826"
              target="_blank"
              >NEAR SHIV MANDIR, GROUND FLOOR, 1-C-9A,B.P, BATA HARDWARE ROAD,
              Faridabad, Faridabad, Haryana, 121001</a
            >
          </p>
          <p>
            <i class="fas fa-phone"></i>
            <a href="tel:+919873906044">+91 9873906044</a>
            <a href="tel:+919810110903">+91 9810110903</a>
          </p>
          <p>
            <i class="fas fa-envelope"></i>
            <a href="mailto:vaishnoelectricals@gmail.com"
              >vaishnoelectricals@gmail.com</a
            >
          </p>
          <p><i class="fas fa-clock"></i> Mon-Sat: 9AM-6PM</p>
        </div>
      </div>

      <div class="footer-nav">
        <ul>
          <li>
            <a href="/#home" class="active"><i class="fas fa-home"></i> Home</a>
          </li>
          <li>
            <a href="/#about"><i class="fas fa-info-circle"></i> About</a>
          </li>
          <li>
            <a href="/products" class="highlight"
              ><i class="fas fa-box"></i> Products</a
            >
          </li>
          <li>
            <a href="/#contact"><i class="fas fa-question-circle"></i> Query</a>
          </li>
          <li>
            <a href="/#contact"><i class="fas fa-envelope"></i> Contact</a>
          </li>
        </ul>
      </div>

      <div class="footer-bottom">
        <p>
          © 2025 VAISHNO ELECTRICALS. All rights reserved. | Designed with ❤️
          for electrical safety
        </p>
      </div>
    </footer>

    <!-- WhatsApp Floating Icon -->
    <a
      href="https://wa.me/919876543210?text=Hello%20VAISHNO%20ELECTRICALS,%20I%20have%20a%20query"
      target="_blank"
      class="whatsapp-float"
    >
      <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop">
      <i class="fas fa-arrow-up"></i>
    </button>

    <script>
      // Mock data with categories
      const mockProducts = [
        {
          id: "1",
          name: "Chemical Earthing",
          shortDescription: "High-quality chemical earthing solution.",
          category: "Earthing",
          specifications: [
            { key: "Material", value: "Copper" },
            { key: "Length", value: "3m" },
          ],
          keyFeatures: ["Durable", "Low Maintenance"],
          image: "/images/placeholder.jpg",
        },
        {
          id: "2",
          name: "Lightning Arrestor",
          shortDescription: "Advanced lightning protection system.",
          category: "Lightning Protection",
          specifications: [
            { key: "Protection Radius", value: "100m" },
            { key: "Material", value: "Stainless Steel" },
          ],
          keyFeatures: ["High Efficiency", "Weather Resistant"],
          image: "/images/placeholder.jpg",
        },
        {
          id: "3",
          name: "Copper Electrode",
          shortDescription: "Durable copper electrode for earthing.",
          category: "Earthing",
          specifications: [
            { key: "Diameter", value: "50mm" },
            { key: "Weight", value: "5kg" },
          ],
          keyFeatures: ["Corrosion Resistant", "Easy Installation"],
          image: "/images/placeholder.jpg",
        },
      ];

      // Category metadata
      const categoryMeta = {
        Earthing: {
          icon: "fas fa-bolt",
          description:
            "Reliable earthing solutions for electrical safety and grounding.",
        },
        "Lightning Protection": {
          icon: "fas fa-cloud-bolt",
          description: "Advanced systems to protect against lightning strikes.",
        },
        "Construction Use": {
          icon: "fas fa-tools",
          description:
            "Durable products designed for construction applications.",
        },
        Other: {
          icon: "fas fa-box",
          description: "Miscellaneous electrical safety products.",
        },
      };

      // Debounce utility
      function debounce(func, delay) {
        let timeoutId;
        return function (...args) {
          clearTimeout(timeoutId);
          timeoutId = setTimeout(() => func.apply(this, args), delay);
        };
      }

      // Admin Prompt
      document.addEventListener("keydown", (e) => {
        if (e.ctrlKey && e.shiftKey && e.key.toUpperCase() === "U") {
          e.preventDefault();
          document.getElementById("adminPrompt").classList.add("active");
          document.getElementById("adminPassword").focus();
        }
      });

      async function authenticateAdmin() {
        const password = document.getElementById("adminPassword").value.trim();
        const adminPrompt = document.getElementById("adminPrompt");

        if (!password) {
          alert("Please enter a password");
          return;
        }

        try {
          const response = await fetch("/api/admin/authenticate", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ password }),
          });

          if (!response.ok) {
            const errorText = await response.text();
            console.error("Server response:", errorText);
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
          }

          const data = await response.json();
          if (data.authenticated) {
            localStorage.setItem("adminAuth", "true");
            localStorage.setItem("adminToken", data.token);
            adminPrompt.classList.remove("active");
            window.location.href = "/admin";
          } else {
            alert("Authentication failed.");
            document.getElementById("adminPassword").value = "";
          }
        } catch (error) {
          console.error("Authentication error:", error);
          alert(
            `Authentication failed: ${error.message}. Please check if the server is running or contact support.`
          );
          document.getElementById("adminPassword").value = "";
        }
      }

      // Mobile Menu Toggle
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const navLinks = document.getElementById("navLinks");
      const navItems = document.querySelectorAll(".nav-item");

      if (mobileMenuBtn && navLinks) {
        mobileMenuBtn.addEventListener("click", () => {
          navLinks.classList.toggle("active");
          const icon = mobileMenuBtn.querySelector("i");
          icon.classList.toggle("fa-bars");
          icon.classList.toggle("fa-times");
          navItems.forEach((item) => item.classList.remove("active"));
        });
      }

      if (navLinks) {
        navLinks.addEventListener("click", (e) => {
          const navItem = e.target.closest(".nav-item");
          if (navItem && window.innerWidth <= 768) {
            e.preventDefault();
            const isActive = navItem.classList.contains("active");
            navItems.forEach((item) => item.classList.remove("active"));
            if (!isActive) {
              navItem.classList.add("active");
            }
          }
        });
      }

      document.addEventListener("click", (e) => {
        if (
          !e.target.closest(".nav-item") &&
          !e.target.closest(".mobile-menu-btn") &&
          window.innerWidth <= 768
        ) {
          navItems.forEach((item) => item.classList.remove("active"));
          if (navLinks) {
            navLinks.classList.remove("active");
            const icon = mobileMenuBtn?.querySelector("i");
            if (icon) {
              icon.classList.add("fa-bars");
              icon.classList.remove("fa-times");
            }
          }
        }
      });

      navLinks?.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", () => {
          if (window.innerWidth <= 768) {
            navLinks.classList.remove("active");
            const icon = mobileMenuBtn?.querySelector("i");
            if (icon) {
              icon.classList.add("fa-bars");
              icon.classList.remove("fa-times");
            }
            navItems.forEach((item) => item.classList.remove("active"));
          }
        });
      });

      // Header Scroll Effect
      const header = document.getElementById("header");
      window.addEventListener("scroll", () => {
        if (header) {
          header.classList.toggle("header-scrolled", window.scrollY > 100);
        }
      });

      // Smooth Scrolling
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", (e) => {
          e.preventDefault();
          const targetId = anchor.getAttribute("href");
          const target = document.querySelector(targetId);
          if (target && header) {
            const headerHeight = header.offsetHeight;
            window.scrollTo({
              top: target.offsetTop - headerHeight,
              behavior: "smooth",
            });
          }
        });
      });

      // Scroll Animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.animation = "fadeInUp 0.8s ease forwards";
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      const initFadeInElements = () => {
        document.querySelectorAll(".fade-in").forEach((el) => {
          if (!el.style.opacity) {
            el.style.opacity = "0";
            el.style.transform = "translateY(20px)";
            observer.observe(el);
          }
        });
      };

      // Scroll to Top
      const scrollTopBtn = document.getElementById("scrollTop");
      if (scrollTopBtn) {
        window.addEventListener("scroll", () => {
          scrollTopBtn.classList.toggle("visible", window.scrollY > 300);
        });

        scrollTopBtn.addEventListener("click", () => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
      }

      // Product Filters and Sorting
      let allProducts = [];
      const filterGroup = document.getElementById("filterGroup");
      const sortSelect = document.getElementById("sortSelect");
      const compareBtn = document.getElementById("compareBtn");

      function populateFilters(categories) {
        filterGroup.innerHTML = "<h4>Filter by Category:</h4>";
        categories.forEach((category) => {
          const container = document.createElement("div");
          container.className = "filter-checkbox-container";
          container.innerHTML = `
            <input
              type="checkbox"
              class="filter-checkbox"
              id="filter-${category}"
              value="${category}"
              checked
              aria-label="Filter by ${category}"
            />
            <label class="filter-checkbox-label" for="filter-${category}">${category}</label>
          `;
          filterGroup.appendChild(container);
        });
        const clearBtn = document.createElement("button");
        clearBtn.className = "clear-filters";
        clearBtn.textContent = "Clear Filters";
        clearBtn.setAttribute("aria-label", "Clear all category filters");
        filterGroup.appendChild(clearBtn);

        // Add clear filters listener
        clearBtn.addEventListener("click", () => {
          document.querySelectorAll(".filter-checkbox").forEach((cb) => {
            cb.checked = true;
          });
          document.querySelectorAll(".category-card").forEach((card) => {
            card.classList.remove("active");
          });
          displayProducts(allProducts);
        });
      }

      function populateCategories(categories) {
        const categoriesGrid = document.getElementById("categoriesGrid");
        categoriesGrid.innerHTML = "";
        categories.forEach((category) => {
          const meta = categoryMeta[category] || {
            icon: "fas fa-box",
            description: "Miscellaneous products.",
          };
          const card = `
            <div
              class="category-card fade-in"
              data-category="${category}"
              role="button"
              tabindex="0"
              aria-label="Filter by ${category}"
            >
              <i class="${meta.icon}"></i>
              <h3>${category}</h3>
              <p>${meta.description}</p>
            </div>`;
          categoriesGrid.insertAdjacentHTML("beforeend", card);
        });

        // Add click and keypress listeners for category cards
        document.querySelectorAll(".category-card").forEach((card) => {
          const handleInteraction = () => {
            const category = card.getAttribute("data-category");
            const checkbox = document.getElementById(`filter-${category}`);
            if (checkbox) {
              document
                .querySelectorAll(".filter-checkbox")
                .forEach((cb) => (cb.checked = false));
              checkbox.checked = true;
              document
                .querySelectorAll(".category-card")
                .forEach((c) => c.classList.remove("active"));
              card.classList.add("active");
              displayProducts(allProducts);
              window.scrollTo({
                top:
                  document.getElementById("products").offsetTop -
                  header.offsetHeight,
                behavior: "smooth",
              });
            }
          };
          card.addEventListener("click", handleInteraction);
          card.addEventListener("keypress", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              handleInteraction();
            }
          });
        });

        initFadeInElements();
      }

      function applyFiltersAndSort(products) {
        let filteredProducts = [...products];

        // Apply category filters
        const checkboxes = document.querySelectorAll(
          ".filter-checkbox:checked"
        );
        const selectedCategories = Array.from(checkboxes).map((cb) => cb.value);
        if (selectedCategories.length > 0) {
          filteredProducts = filteredProducts.filter(
            (product) =>
              product.category && selectedCategories.includes(product.category)
          );
        }

        // Apply sorting
        const sortValue = sortSelect.value;
        if (sortValue === "name-asc") {
          filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
        } else if (sortValue === "name-desc") {
          filteredProducts.sort((a, b) => b.name.localeCompare(a.name));
        }

        return filteredProducts;
      }

      function displayProducts(products) {
        const productsGrid = document.getElementById("productsGrid");
        const productsDropdown = document.getElementById("productsDropdown");
        const footerProducts = document.getElementById("footerProducts");

        if (!productsGrid || !productsDropdown || !footerProducts) return;

        productsGrid.innerHTML = "";
        productsDropdown.innerHTML = "";
        footerProducts.innerHTML = "";

        const filteredProducts = applyFiltersAndSort(products);

        if (filteredProducts.length === 0) {
          productsGrid.innerHTML = "<p>No products found.</p>";
          return;
        }

        filteredProducts.forEach((product) => {
          if (!product || !product.id) return;
          const card = `
            <div class="product-card fade-in">
              
              <img src="${product.image}" alt="${product.name}" class="product-image" loading="lazy" onerror="this.src='/images/placeholder.jpg'" />
              <h3>${product.name}</h3>
              <p>${product.shortDescription}</p>
              <div class="product-overlay">
                <input type="checkbox" class="compare-checkbox" value="${product.id}" aria-label="Select ${product.name} for comparison" />
                <a href="/products/${product.id}" class="product-btn">
                  <i class="fas fa-eye"></i> View Product
                </a>
                <button class="product-btn enquiry-btn" data-product="${product.name}">
                  <i class="fas fa-question-circle"></i> Enquiry
                </button>
                <button class="product-btn specs-btn" data-id="${product.id}">
                  <i class="fas fa-info-circle"></i> View Specs
                </button>
              </div>
            </div>`;
          productsGrid.insertAdjacentHTML("beforeend", card);

          const dropdownItem = `<li><a href="/products/${product.id}">${product.name}</a></li>`;
          productsDropdown.insertAdjacentHTML("beforeend", dropdownItem);

          const footerItem = `<li><a href="/products/${product.id}">${product.name}</a></li>`;
          footerProducts.insertAdjacentHTML("beforeend", footerItem);
        });

        // Add comparison checkbox listeners
        document.querySelectorAll(".compare-checkbox").forEach((checkbox) => {
          checkbox.addEventListener("change", () => {
            const selected = document.querySelectorAll(
              ".compare-checkbox:checked"
            );
            if (selected.length > 3) {
              checkbox.checked = false;
              alert("You can compare up to 3 products.");
            }
            updateCompareButton();
          });
        });

        // Add specs button listeners
        const specsModal = document.getElementById("specsModal");
        const specsModalTitle = document.getElementById("specsModalTitle");
        const specsModalContent = document.getElementById("specsModalContent");
        document.querySelectorAll(".specs-btn").forEach((btn) => {
          btn.addEventListener("click", () => {
            const id = btn.getAttribute("data-id");
            const product = allProducts.find((p) => p.id === id);
            if (product && specsModal && specsModalTitle && specsModalContent) {
              specsModalTitle.textContent = product.name;
              const specsTable =
                product.specifications
                  ?.map(
                    (spec) =>
                      `<tr><td>${spec.key}</td><td>${spec.value}</td></tr>`
                  )
                  .join("") ||
                "<tr><td colspan='2'>No specifications available</td></tr>";
              const keyFeaturesList =
                product.keyFeatures
                  ?.map((feature) => `<li>${feature}</li>`)
                  .join("") || "<li>No key features available</li>";
              specsModalContent.innerHTML = `
                <h4>Specifications</h4>
                <table class="specs-table">
                  ${specsTable}
                </table>
                <h4>Key Features</h4>
                <ul class="key-features">
                  ${keyFeaturesList}
                </ul>`;
              specsModal.style.display = "flex";
              specsModal.focus();
            }
          });
        });

        // Add filter listeners
        document.querySelectorAll(".filter-checkbox").forEach((checkbox) => {
          checkbox.addEventListener("change", () => {
            const selectedCategories = Array.from(
              document.querySelectorAll(".filter-checkbox:checked")
            ).map((cb) => cb.value);
            document.querySelectorAll(".category-card").forEach((card) => {
              const category = card.getAttribute("data-category");
              card.classList.toggle(
                "active",
                selectedCategories.includes(category)
              );
            });
            displayProducts(allProducts);
          });
        });

        initFadeInElements();
      }

      // Specs Modal Listeners
      const specsModal = document.getElementById("specsModal");
      const specsClose = specsModal?.querySelector(".close");
      if (specsModal && specsClose) {
        specsClose.addEventListener("click", () => {
          specsModal.style.display = "none";
        });
        window.addEventListener("click", (e) => {
          if (e.target === specsModal) {
            specsModal.style.display = "none";
          }
        });
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && specsModal.style.display === "flex") {
            specsModal.style.display = "none";
          }
        });
      }

      // Product Comparison
      const compareModal = document.getElementById("compareModal");
      const compareContent = document.getElementById("compareContent");
      const compareClose = compareModal?.querySelector(".close");

      function updateCompareButton() {
        const selected = document.querySelectorAll(".compare-checkbox:checked");
        compareBtn.classList.toggle("active", selected.length >= 2);
      }

      function renderComparison() {
        const selectedIds = Array.from(
          document.querySelectorAll(".compare-checkbox:checked")
        ).map((cb) => cb.value);
        const selectedProducts = allProducts.filter(
          (p) => p && selectedIds.includes(p.id)
        );

        if (selectedProducts.length === 0) {
          compareContent.innerHTML = `<p class="no-products">No valid products selected for comparison.</p>`;
          return;
        }

        const table = `
          <table class="compare-table">
            <thead>
              <tr>
                <th>Feature</th>
                ${selectedProducts
                  .map(
                    (p) =>
                      `<th>${p.name} <button class="remove-btn" data-id="${p.id}">Remove</button></th>`
                  )
                  .join("")}
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Image</td>
                ${selectedProducts
                  .map(
                    (p) =>
                      `<td><img src="${p.image}" alt="${p.name}" onerror="this.src='/images/placeholder.jpg'" /></td>`
                  )
                  .join("")}
              </tr>
              <tr>
                <td>Description</td>
                ${selectedProducts
                  .map((p) => `<td>${p.shortDescription}</td>`)
                  .join("")}
              </tr>
              <tr>
                <td>Category</td>
                ${selectedProducts
                  .map((p) => `<td>${p.category || "N/A"}</td>`)
                  .join("")}
              </tr>
            </tbody>
          </table>
        `;
        compareContent.innerHTML = table;

        compareContent.querySelectorAll(".remove-btn").forEach((btn) => {
          btn.addEventListener("click", () => {
            const id = btn.getAttribute("data-id");
            const checkbox = document.querySelector(
              `.compare-checkbox[value="${id}"]`
            );
            if (checkbox) checkbox.checked = false;
            updateCompareButton();
            renderComparison();
          });
        });
      }

      // Load Products with Minimum 2-Second Delay
      async function loadProducts() {
        const productsGrid = document.getElementById("productsGrid");
        const productsDropdown = document.getElementById("productsDropdown");
        const footerProducts = document.getElementById("footerProducts");
        const pageLoading = document.getElementById("pageLoading");

        if (!productsGrid || !productsDropdown || !footerProducts) return;

        const minDelay = new Promise((resolve) => setTimeout(resolve, 2000));

        try {
          const response = await Promise.race([
            fetch("/api/products"),
            minDelay.then(() => Promise.reject(new Error("Timeout"))),
          ]);

          await minDelay;

          if (!response.ok) throw new Error(`HTTP ${response.status}`);

          allProducts = await response.json();
          if (!Array.isArray(allProducts))
            throw new Error("Response is not an array");

          const categories = [
            ...new Set(
              allProducts
                .map((p) => p.category)
                .filter((c) => c && typeof c === "string")
            ),
          ].sort();
          if (categories.length > 0) {
            populateFilters(categories);
            populateCategories(categories);
          } else {
            filterGroup.innerHTML =
              "<h4>Filter by Category:</h4><p>No categories available</p>";
            document.getElementById("categoriesGrid").innerHTML =
              "<p>No categories available</p>";
          }

          sortSelect.addEventListener("change", () =>
            displayProducts(allProducts)
          );
        } catch (error) {
          console.error("Error loading products:", error);
          productsGrid.innerHTML =
            "<p>Error loading products. Please try again later.</p>";
          allProducts = mockProducts;
          const mockCategories = [
            ...new Set(mockProducts.map((p) => p.category)),
          ].sort();
          populateFilters(mockCategories);
          populateCategories(mockCategories);
        } finally {
          pageLoading.classList.add("hidden");
          setTimeout(() => {
            pageLoading.style.display = "none";
          }, 500);
        }

        displayProducts(allProducts);
      }

      // Comparison Modal Listeners
      if (compareModal && compareBtn) {
        compareBtn.addEventListener("click", () => {
          renderComparison();
          compareModal.style.display = "flex";
        });

        compareClose?.addEventListener("click", () => {
          compareModal.style.display = "none";
        });

        window.addEventListener("click", (e) => {
          if (e.target === compareModal) {
            compareModal.style.display = "none";
          }
        });
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && compareModal.style.display === "flex") {
            compareModal.style.display = "none";
          }
        });
      }

      // Form Submission
      async function handleFormSubmit(e, formType) {
        e.preventDefault();
        const form = e.target;
        const loading = document.getElementById(`${formType}Loading`);
        const success = document.getElementById(`${formType}Success`);
        const formData = new FormData(form);
        let data, url;

        if (!loading) return;

        form.querySelectorAll(".error-message").forEach((el) => {
          el.style.display = "none";
        });

        if (formType === "contact") {
          data = {
            name: formData.get("name")?.trim() || "",
            email: formData.get("email")?.trim() || "",
            phone: formData.get("phone")?.trim() || "",
            inquiry: formData.get("inquiry") || "",
            message: formData.get("message")?.trim() || "",
          };

          let isValid = true;
          if (!data.name) {
            form.querySelector("#name ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!data.email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
            form.querySelector("#email ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!data.phone || !/^[0-9]{10}$/.test(data.phone)) {
            form.querySelector("#phone ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!data.inquiry) {
            form.querySelector("#inquiry ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!data.message) {
            form.querySelector("#message ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!isValid) return;

          url = "/api/contact";
        } else {
          data = {
            name: formData.get("name")?.trim() || "",
            email: formData.get("email")?.trim() || "",
            phone: formData.get("phone")?.trim() || "",
            product: formData.get("product")?.trim() || "",
            message: formData.get("message")?.trim() || "",
          };

          let isValid = true;
          if (!data.name) {
            form.querySelector("#enquiryName ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!data.email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
            form.querySelector("#enquiryEmail ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!data.phone || !/^[0-9]{10}$/.test(data.phone)) {
            form.querySelector("#enquiryPhone ~ .error-message").style.display =
              "block";
            isValid = false;
          }
          if (!data.message) {
            form.querySelector(
              "#enquiryMessage ~ .error-message"
            ).style.display = "block";
            isValid = false;
          }
          if (!isValid) return;

          url = "/api/enquiry";
        }

        loading.classList.add("active");
        form
          .querySelectorAll("input, select, textarea, button")
          .forEach((el) => (el.disabled = true));

        try {
          const response = await fetch(url, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          if (!response.ok) throw new Error(`HTTP ${response.status}`);

          success.classList.add("active");
          form.reset();
          setTimeout(() => {
            success.classList.remove("active");
            if (formType === "enquiry") {
              document.getElementById("enquiryModal").style.display = "none";
            }
          }, 3000);
        } catch (error) {
          console.error(`Error submitting ${formType} form:`, error);
          const errorMessage = document.createElement("div");
          errorMessage.className = "error-message";
          errorMessage.textContent =
            "An error occurred. Please try again later.";
          errorMessage.style.display = "block";
          form.appendChild(errorMessage);
          setTimeout(() => errorMessage.remove(), 3000);
        } finally {
          loading.classList.remove("active");
          form
            .querySelectorAll("input, select, textarea, button")
            .forEach((el) => (el.disabled = false));
        }
      }

      // Form Event Listeners
      const contactForm = document.getElementById("contactForm");
      const enquiryForm = document.getElementById("enquiryForm");

      if (contactForm) {
        contactForm.addEventListener("submit", (e) =>
          handleFormSubmit(e, "contact")
        );
      }

      if (enquiryForm) {
        enquiryForm.addEventListener("submit", (e) =>
          handleFormSubmit(e, "enquiry")
        );
      }

      // Enquiry Modal
      const enquiryModal = document.getElementById("enquiryModal");
      const enquiryProductInput = document.getElementById("enquiryProduct");
      const enquiryClose = enquiryModal?.querySelector(".close");

      if (enquiryModal && enquiryProductInput) {
        document.addEventListener("click", (e) => {
          if (e.target.classList.contains("enquiry-btn")) {
            const productName = e.target.getAttribute("data-product");
            enquiryProductInput.value = productName;
            enquiryModal.style.display = "flex";
          }
        });

        enquiryClose?.addEventListener("click", () => {
          enquiryModal.style.display = "none";
        });

        window.addEventListener("click", (e) => {
          if (e.target === enquiryModal) {
            enquiryModal.style.display = "none";
          }
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && enquiryModal.style.display === "flex") {
            enquiryModal.style.display = "none";
          }
        });
      }

      // Search Functionality
      const searchInput = document.getElementById("searchInput");
      const searchSuggestions = document.getElementById("searchSuggestions");

      if (searchInput && searchSuggestions) {
        const handleSearch = debounce(async () => {
          const query = searchInput.value.trim();
          if (query.length < 2) {
            searchSuggestions.classList.remove("active");
            searchSuggestions.innerHTML = "";
            return;
          }

          try {
            const response = await fetch(
              `/api/products/search/${encodeURIComponent(query)}`
            );
            if (!response.ok) throw new Error(`HTTP ${response.status}`);
            const products = await response.json();
            searchSuggestions.innerHTML = "";
            if (Array.isArray(products) && products.length > 0) {
              products.forEach((product) => {
                const li = document.createElement("li");
                li.textContent = product.name;
                li.addEventListener("click", () => {
                  window.location.href = `/products/${product.id}`;
                });
                searchSuggestions.appendChild(li);
              });
              searchSuggestions.classList.add("active");
            } else {
              searchSuggestions.classList.remove("active");
            }
          } catch (error) {
            console.error("Search error:", error);
          }
        }, 300);

        searchInput.addEventListener("input", handleSearch);

        document.addEventListener("click", (e) => {
          if (
            !searchInput.contains(e.target) &&
            !searchSuggestions.contains(e.target)
          ) {
            searchSuggestions.classList.remove("active");
          }
        });
      }

      // Active Navigation
      const sections = document.querySelectorAll("section");
      const navLinksAll = document.querySelectorAll(".nav-links a");
      const footerNavLinks = document.querySelectorAll(".footer-nav a");

      const setActiveLink = () => {
        let current = "";
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          if (window.scrollY >= sectionTop - 100) {
            current = section.getAttribute("id");
          }
        });

        navLinksAll.forEach((link) => {
          const href = link.getAttribute("href");
          const isActive =
            href.includes(current) ||
            (current === "products" && href.includes("/products"));
          link.classList.toggle("active", isActive);
        });

        footerNavLinks.forEach((link) => {
          const href = link.getAttribute("href");
          link.classList.toggle("active", href.includes(current));
        });

        if (window.scrollY < 100) {
          navLinksAll.forEach((link) => link.classList.remove("active"));
          footerNavLinks.forEach((link) => link.classList.remove("active"));
        }
      };

      window.addEventListener("scroll", setActiveLink);

      // Page Load
      window.addEventListener("load", () => {
        document.body.style.opacity = "1";
        setActiveLink();
        loadProducts();
        initFadeInElements();
      });

      document.body.style.opacity = "0";
      document.body.style.transition = "opacity 0.5s ease";
    </script>
  </body>
</html>
